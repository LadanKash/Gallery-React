{"ast":null,"code":"var _s = $RefreshSig$();\nimport { collection, onSnapshot, orderBy, query } from \"firebase/firestore\";\nimport { useEffect, useState } from \"react\";\nimport { db } from \"../firebase/config\";\nexport const useFirestore = collectionName => {\n  _s();\n  const [docs, setDocs] = useState([]);\n  useEffect(() => {\n    const q = query(collection(db, collectionName), orderBy('createdAt', 'desc'));\n    const unsub = onSnapshot(q, snapshot => {\n      let documents = [];\n      snapshot.forEach(doc => {\n        documents.push({\n          ...doc.data(),\n          id: doc.id\n        });\n      });\n      setDocs(documents);\n    });\n    return () => unsub();\n  }, [collectionName]);\n  return {\n    docs\n  };\n};\n_s(useFirestore, \"+T0lE56vJ9KU8atjOm2u+g1P1HQ=\");","map":{"version":3,"names":["collection","onSnapshot","orderBy","query","useEffect","useState","db","useFirestore","collectionName","_s","docs","setDocs","q","unsub","snapshot","documents","forEach","doc","push","data","id"],"sources":["C:/Users/lkash/Desktop/Gallery/src/hooks/useFirestore.js"],"sourcesContent":["import { collection, onSnapshot, orderBy, query } from \"firebase/firestore\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { db } from \"../firebase/config\"\r\n\r\nexport const useFirestore = (collectionName) => {\r\n\r\n    const [docs, setDocs] = useState([])\r\n\r\n    useEffect(() => {\r\n        const q = query(collection(db, collectionName), orderBy('createdAt', 'desc'))\r\n        const unsub = onSnapshot(q, (snapshot) => {\r\n            let documents = []\r\n            snapshot.forEach(doc => {\r\n                documents.push({...doc.data(), id: doc.id})\r\n            });\r\n            setDocs(documents)\r\n        })\r\n\r\n        return () => unsub()\r\n    }, [collectionName])\r\n\r\n    return { docs }\r\n}"],"mappings":";AAAA,SAASA,UAAU,EAAEC,UAAU,EAAEC,OAAO,EAAEC,KAAK,QAAQ,oBAAoB;AAC3E,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,EAAE,QAAQ,oBAAoB;AAEvC,OAAO,MAAMC,YAAY,GAAIC,cAAc,IAAK;EAAAC,EAAA;EAE5C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACZ,MAAMQ,CAAC,GAAGT,KAAK,CAACH,UAAU,CAACM,EAAE,EAAEE,cAAc,CAAC,EAAEN,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IAC7E,MAAMW,KAAK,GAAGZ,UAAU,CAACW,CAAC,EAAGE,QAAQ,IAAK;MACtC,IAAIC,SAAS,GAAG,EAAE;MAClBD,QAAQ,CAACE,OAAO,CAACC,GAAG,IAAI;QACpBF,SAAS,CAACG,IAAI,CAAC;UAAC,GAAGD,GAAG,CAACE,IAAI,CAAC,CAAC;UAAEC,EAAE,EAAEH,GAAG,CAACG;QAAE,CAAC,CAAC;MAC/C,CAAC,CAAC;MACFT,OAAO,CAACI,SAAS,CAAC;IACtB,CAAC,CAAC;IAEF,OAAO,MAAMF,KAAK,CAAC,CAAC;EACxB,CAAC,EAAE,CAACL,cAAc,CAAC,CAAC;EAEpB,OAAO;IAAEE;EAAK,CAAC;AACnB,CAAC;AAAAD,EAAA,CAlBYF,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}