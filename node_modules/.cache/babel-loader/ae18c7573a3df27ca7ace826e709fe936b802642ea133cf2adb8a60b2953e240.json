{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lkash\\\\Desktop\\\\REACT_PROJECTS\\\\Gallery-react\\\\src\\\\components\\\\ImageGrid.js\",\n  _s = $RefreshSig$();\nimport { deleteDoc, doc } from \"firebase/firestore\";\nimport { useFirestore } from \"../hooks/useFirestore\";\nimport { db, storage } from \"../firebase/config\";\nimport { deleteObject, ref } from \"firebase/storage\";\nimport { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ImageGrid = _ref => {\n  _s();\n  let {\n    setSelectedImg\n  } = _ref;\n  const {\n    docs\n  } = useFirestore(\"images\");\n  const [showDeleteButtons, setShowDeleteButtons] = useState(false);\n  const handleDelete = async (e, docId, imageUrl) => {\n    e.stopPropagation();\n    try {\n      await deleteDoc(doc(db, \"images\", docId));\n      const imageRef = ref(storage, imageUrl);\n      await deleteObject(imageRef);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const ShowButtonsAfterDelay = () => {\n    setTimeout(() => {\n      setShowDeleteButtons(true);\n    }, 200);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"img-grid\",\n    children: docs && docs.map(doc => /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"img-wrap\",\n      onClick: () => setSelectedImg(doc.url),\n      layout: true,\n      whileHover: {\n        opacity: 1\n      },\n      onMouseEnter: ShowButtonsAfterDelay,\n      onMouseLeave: () => setShowDeleteButtons(false),\n      children: [/*#__PURE__*/_jsxDEV(motion.img, {\n        src: doc.url,\n        alt: \"uploade pic\",\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          delay: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), showDeleteButtons && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-button\",\n        onClick: e => handleDelete(e, doc.id, doc.url),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }, this)]\n    }, doc.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageGrid, \"nlo/jB1tZwNxYooO0BjhiKW8ryM=\", false, function () {\n  return [useFirestore];\n});\n_c = ImageGrid;\nvar _c;\n$RefreshReg$(_c, \"ImageGrid\");","map":{"version":3,"names":["deleteDoc","doc","useFirestore","db","storage","deleteObject","ref","useState","motion","jsxDEV","_jsxDEV","ImageGrid","_ref","_s","setSelectedImg","docs","showDeleteButtons","setShowDeleteButtons","handleDelete","e","docId","imageUrl","stopPropagation","imageRef","err","console","log","ShowButtonsAfterDelay","setTimeout","className","children","map","div","onClick","url","layout","whileHover","opacity","onMouseEnter","onMouseLeave","img","src","alt","initial","animate","transition","delay","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["C:/Users/lkash/Desktop/REACT_PROJECTS/Gallery-react/src/components/ImageGrid.js"],"sourcesContent":["import { deleteDoc, doc } from \"firebase/firestore\";\r\nimport { useFirestore } from \"../hooks/useFirestore\";\r\nimport { db, storage } from \"../firebase/config\";\r\nimport { deleteObject, ref } from \"firebase/storage\";\r\nimport { useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport const ImageGrid = ({ setSelectedImg }) => {\r\n  const { docs } = useFirestore(\"images\");\r\n  const [showDeleteButtons, setShowDeleteButtons] = useState(false);\r\n\r\n  const handleDelete = async (e, docId, imageUrl) => {\r\n    e.stopPropagation();\r\n    try {\r\n      await deleteDoc(doc(db, \"images\", docId));\r\n\r\n      const imageRef = ref(storage, imageUrl);\r\n      await deleteObject(imageRef);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const ShowButtonsAfterDelay = () => {\r\n    setTimeout(() => {\r\n      setShowDeleteButtons(true);\r\n    }, 200);\r\n  };\r\n\r\n  return (\r\n    <div className=\"img-grid\">\r\n      {docs &&\r\n        docs.map((doc) => (\r\n          <motion.div\r\n            className=\"img-wrap\"\r\n            key={doc.id}\r\n            onClick={() => setSelectedImg(doc.url)}\r\n            layout\r\n            whileHover={{ opacity: 1 }}\r\n            onMouseEnter={ShowButtonsAfterDelay}\r\n            onMouseLeave={() => setShowDeleteButtons(false)}\r\n          >\r\n            <motion.img\r\n              src={doc.url}\r\n              alt=\"uploade pic\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 1 }}\r\n            />\r\n\r\n            {showDeleteButtons && (\r\n              <button\r\n                className=\"delete-button\"\r\n                onClick={(e) => handleDelete(e, doc.id, doc.url)}\r\n              >\r\n                Delete\r\n              </button>\r\n            )}\r\n          </motion.div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}